<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recollection</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
          <div class="app-title">
            <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
              </div>
              <h1>Recollection&nbsp;</h1>
            </div>

        </header>



        <!-- Create/Edit Deck Modal -->
        <div id="create-deck-modal" class="modal">
            <div class="modal-content large-modal">
                <div class="modal-header">
                    <h3 class="modal-title" id="create-deck-title"><i class="fas fa-plus"></i> Create New Deck</h3>
                    <button class="modal-close" id="close-create-deck-modal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="deck-editor">
                        <div class="editor-main">
                            <div class="row">
                                <div class="col form-group">
                                    <label for="deck-name">Deck Name</label>
                                    <div class="input-wrapper">
                                        <input type="text" id="deck-name" class="input" placeholder="Enter deck name">
                                    </div>
                                </div>
                                <div class="col form-group">
                                    <label for="deck-tags">Tags</label>
                                    <input type="text" id="tag-input" class="input" placeholder="Add tags">
                                </div>
                            </div>
                            <div class="tags-display" id="tags-display"></div>
                            
                            <div class="form-group">
                                <label for="card-front">Front</label>
                                <textarea id="card-front" placeholder="Enter your question or prompt"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="card-back">Back</label>
                                <textarea id="card-back" placeholder="Enter the answer or explanation"></textarea>
                            </div>
                            
                            
                            <div class="form-actions">
                                <button id="add-card">
                                    <i class="fas fa-plus"></i> Add Card
                                </button>
                                <button id="save-deck" class="success" style="display: none;">
                                    <i class="fas fa-save"></i> Save Deck
                                </button>
                                <button id="clear-form" class="secondary">
                                    <i class="fas fa-eraser"></i> Clear Form
                                </button>
                            </div>
                        </div>
                        
                        <div class="editor-sidebar" id="cards-sidebar" style="display: none;">
                            <div class="sidebar-header">
                                <h4><i class="fas fa-list"></i> Existing Cards (<span id="card-count">0</span>)</h4>
                            </div>
                            <div class="cards-list" id="existing-cards-list">
                                <!-- Cards will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="decks" class="main-content">
            <div class="decks-header">
                <h2><i class="fas fa-layer-group"></i> My Decks</h2>
                <div class="header-actions">
                    <button id="resume-session" class="btn-small" style="background: #22c55e; color: white; display: none;">
                        <i class="fas fa-play"></i> Resume Study
                    </button>
                    <button id="create-new-deck" class="btn-small">
                        <i class="fas fa-plus"></i> Create New Deck
                    </button>
                    <button id="import-deck" class="btn-small secondary">
                        <i class="fas fa-file-import"></i> Import
                    </button>
                </div>
            </div>
            <input type="file" id="import-file" style="display: none;">
            
            <div id="deck-list" class="deck-list">
                <!-- Decks will be inserted here -->
            </div>
            
            <div id="no-decks" class="empty-state" style="display: none;">
                <div class="empty-state-icon">
                    <i class="fas fa-plus"></i>
                </div>
                <div class="empty-state-text">You don't have any decks yet</div>
                <button id="create-first-deck">
                    <i class="fas fa-plus"></i> Create Your First Deck
                </button>
            </div>
            

            
            <!-- Statistics Section -->
            <div class="stats-section">
                <h3><i class="fas fa-chart-bar"></i> Statistics</h3>
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-value" id="total-cards-stat">0</div>
                        <div class="stat-label">
                            <i class="fas fa-clone"></i> Total Cards
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="total-decks-stat">0</div>
                        <div class="stat-label">
                            <i class="fas fa-layer-group"></i> Decks
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="cards-studied-stat">0</div>
                        <div class="stat-label">
                            <i class="fas fa-check-circle"></i> Studied Today
                        </div>
                    </div>
                </div>
                
                <div class="forecast-section">
                    <h3><i class="fas fa-calendar-alt"></i> Due Cards</h3>
                    <div class="due-cards-summary">
                        <span id="due-today">0</span> due today • <span id="due-tomorrow">0</span> due tomorrow
                    </div>
                </div>
            </div>
        </div>

        <!-- Study Page -->
        <div id="study-overlay" class="study-overlay">
            <div class="study-header">
                <div class="study-header-top">
                    <button id="back-to-decks" class="back-btn">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2 id="study-deck-name">Studying Deck</h2>
                    <div class="header-spacer"></div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="study-progress"></div>
                </div>
                <div class="study-progress-info">
                    <span id="remaining-count">0</span> remaining of <span id="total-count">0</span> cards
                </div>
            </div>
            
            <div class="main-content">
            
            <div id="study-card-container" class="study-card-container" style="display: none;">
                <div class="flashcard" id="flashcard">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <div class="card-meta">
                                <div class="card-number" id="card-number">Card 1/10</div>
                            </div>
                            <div class="card-actions">
                                <button class="action-btn" id="edit-current-card">
                                    <i class="fas fa-pen"></i>
                                </button>
                            </div>
                            <div id="card-front-content" class="card-content"></div>
                        </div>
                        <div class="flashcard-back">
                            <div id="card-back-content" class="card-content"></div>
                        </div>
                    </div>
                </div>
                
                <div class="study-controls" id="flip-controls">
                    <button id="flip-card">
                        <i class="fas fa-sync-alt"></i> Show Answer (Space)
                    </button>
                </div>
                
                <div class="study-controls" id="rating-controls" style="display: none;">
                    <button id="restart-current-session" class="secondary" title="Restart Session">
                        <i class="fas fa-redo-alt"></i> Restart
                    </button>
                    <div class="rating-buttons-group">
                        <button class="danger" data-difficulty="again">
                            <i class="fas fa-redo"></i> Again (1)
                        </button>
                        <button class="warning" data-difficulty="hard">
                            <i class="fas fa-exclamation-circle"></i> Hard (2)
                        </button>
                        <button data-difficulty="good">
                            <i class="fas fa-check"></i> Good (3)
                        </button>
                        <button class="success" data-difficulty="easy">
                            <i class="fas fa-check-double"></i> Easy (4)
                        </button>
                    </div>
                </div>
                
                <div class="keyboard-shortcuts">
                    <div class="shortcut-list">
                        <div class="shortcut-item">
                            <div class="key">Space</div>
                            <div>Flip Card</div>
                        </div>
                        <div class="shortcut-item">
                            <div class="key">1-4</div>
                            <div>Rate Card</div>
                        </div>
                        <div class="shortcut-item">
                            <div class="key">E</div>
                            <div>Edit</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="deck-selection" class="empty-state">
                <div class="empty-state-icon">
                    <i class="fas fa-book-open"></i>
                </div>
                <div class="empty-state-text">Select a deck to start studying</div>
                <button id="show-deck-list">
                    <i class="fas fa-layer-group"></i> View My Decks
                </button>
            </div>
            
            <div id="session-complete" class="empty-state" style="display: none;">
                <div class="empty-state-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="empty-state-text">Session Complete!</div>
                <div style="margin-bottom: 1.5rem;">
                    <div>You've completed all due cards for now.</div>
                    <div id="session-summary"></div>
                </div>
                <div class="btn-group">
                    <button id="restart-session">
                        <i class="fas fa-redo-alt"></i> Restart Session
                    </button>
                    <button id="return-to-decks" class="secondary">
                        <i class="fas fa-layer-group"></i> Return to Decks
                    </button>
                </div>
            </div>
            
            </div>
        </div>


        
        <div id="edit-card-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title"><i class="fas fa-pen"></i> Edit Card</h3>
                    <button class="modal-close" id="close-edit-modal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="edit-card-front">Front (Question)</label>
                        <textarea id="edit-card-front" placeholder="Enter your question or prompt"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-card-back">Back (Answer)</label>
                        <textarea id="edit-card-back" placeholder="Enter the answer or explanation"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="save-edit" class="success">
                        <i class="fas fa-save"></i> Save Changes
                    </button>
                    <button id="cancel-edit" class="secondary">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </div>
        </div>

        <div id="reset-deck-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title"><i class="fas fa-redo-alt"></i> Reset Deck Progress</h3>
                    <button class="modal-close" id="close-reset-modal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to reset all progress for this deck? This will:</p>
                    <ul style="margin: 16px 0 16px 24px;">
                        <li>Reset all learning intervals</li>
                        <li>Mark all cards as new</li>
                        <li>Clear review history for this deck</li>
                    </ul>
                    <p>This action cannot be undone.</p>
                </div>
                <div class="modal-footer">
                    <button id="confirm-reset" class="danger">
                        <i class="fas fa-redo-alt"></i> Reset Deck
                    </button>
                    <button id="cancel-reset" class="secondary">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </div>
        </div>



        <div id="toast" class="toast">
            <div class="toast-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="toast-content">
                <div class="toast-title">Success</div>
                <div class="toast-message">Card added successfully!</div>
            </div>
            <div class="toast-close">
                <i class="fas fa-times"></i>
            </div>
        </div>
    </div>
    
    <footer>
        <div>Recollection © 2025</div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
